{% extends 'Common/layout.html' %}

{% block content %}
<div class="card shadow mb-4" style="margin-top: -5px;">
    <div class="card-header py-3" style="margin-bottom:-40px">
        <div class="row mb-3">
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6">
                <h6 class="m-0 font-weight-bold text-dark">COMPANION REPORTS</h6>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6"></div>
        </div>
        <div class="row mr-1">
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2">
                <a class="btn rounded btn-success" style="color: white;font-size:14px;">
                    <i class="fas fa-file-export fa-sm"></i>
                    &nbsp;Export
                </a>
            </div>
            <div class="col-xl-7 col-lg-7 col-md-7 col-sm-3 col-5"></div>
            <div class="col-xl-2 col-lg-2 col-md-2 col-sm-4 col-3" style="padding-left:85px;">
                <a class="btn rounded btn-success" style="color: white;font-size:14px;">
                    <i class="fas fa-file-import fa-sm"></i>
                    &nbsp;Import
                </a>
            </div>
            <div class="col-xl-1 col-lg-1 col-md-1 col-sm-3 col-2">
                <a class="btn rounded btn-hover-blue" href="{% url 'pages:add_companion_report' %}"
                   style="background-color: #056299;color: white;font-size:14px;">
                    <i class="fas fa-plus fa-sm"></i>
                    &nbsp;Add
                </a>
            </div>
        </div>
    </div>
    <div class="card-body">
        <hr style="height:1px;color:lightgray;background-color:lightgray">
        <div class="row">
            <div class="col-xl-2 col-lg-2 col-md-3 col-sm-4 col-4">
                <select class="custom-select filter-report" id="companion_filter">
                    <option value="0">Companion</option>
                    <option value="Nguyen Van An">Nguyen Van An</option>
                    <option value="Le Trong Tan">Le Trong Tan</option>
                    <option value="Ho Khanh Dien">Ho Khanh Dien</option>
                </select>
            </div>
            <div class="col-xl-1 col-lg-1 col-md-3 col-sm-3 col-3 mt-2">
                <span class="font-weight-bold">From</span>
            </div>
            <div class="col-xl-3 col-lg-2 col-md-5 col-sm-5 col-5">
                <input type="date" class="custom-select filter-report" id="filter_date_from" />
            </div>
            <div class="col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2 mt-2">
                <span class="font-weight-bold">To</span>
            </div>
            <div class="col-xl-3 col-lg-2 col-md-5 col-sm-5 col-5">
                <input type="date" class="custom-select filter-report" id="filter_date_to" />
            </div>
        </div>
        <hr style="height:1px;color:lightgray;background-color:lightgray">
        <div class="table-responsive" style="margin-top:-8px">
            <table class="table table-bordered table-report" id="dataTable" width="100%" cellspacing="0">
                <thead>
                <tr>
                    <th>No.</th>
                    <th>Companion</th>
                    <th>Candidate</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tfoot>
                <tr>
                    <th>No.</th>
                    <th>Companion</th>
                    <th>Candidate</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
                </tfoot>
                <tbody>
                <tr>
                    <th>1</th>
                    <td class="companion" data-companion="Nguyen Van An">Nguyen Van An</td>
                    <td>Nguyen Van Tin</td>
                    <td>2021-06-23</td>
                    <td>
                        <div class="row" style="margin-left:-13px;">
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#detailCompanionReportModal"
                                        class="btn btn-primary btn-sm align-middle h-28px w-28px rounded" type="submit">
                                    <i class="far fa-eye fa-md ml--3px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button class="btn btn-warning btn-sm h-28px w-28px rounded" type="submit"
                                        style="margin-left: -14px;">
                                    <i class="fas fa-edit fa-md ml--2px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#deleteCompanionReportModal"
                                        class="btn btn-danger btn-sm h-28px w-28px rounded" style="margin-left: -28px;">
                                    <i class="far fa-trash-alt fa-md ml--1px"></i>
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>2</th>
                    <td class="companion" data-companion="Nguyen Van An">Nguyen Van An</td>
                    <td>Nguyen Van Tin Hoa</td>
                    <td>2021-07-13</td>
                    <td>
                        <div class="row" style="margin-left:-13px;">
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#detailCompanionReportModal"
                                        class="btn btn-primary btn-sm align-middle h-28px w-28px rounded" type="submit">
                                    <i class="far fa-eye fa-md ml--3px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button class="btn btn-warning btn-sm h-28px w-28px rounded" type="submit"
                                        style="margin-left: -14px;">
                                    <i class="fas fa-edit fa-md ml--2px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#deleteCompanionReportModal"
                                        class="btn btn-danger btn-sm h-28px w-28px rounded" style="margin-left: -28px;">
                                    <i class="far fa-trash-alt fa-md ml--1px"></i>
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>3</th>
                    <td class="companion" data-companion="Ho Khanh Dien">Ho Khanh Dien</td>
                    <td>Nguyen Van Tinh</td>
                    <td>2021-05-12</td>
                    <td>
                        <div class="row" style="margin-left:-13px;">
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#detailCompanionReportModal"
                                        class="btn btn-primary btn-sm align-middle h-28px w-28px rounded" type="submit">
                                    <i class="far fa-eye fa-md ml--3px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button class="btn btn-warning btn-sm h-28px w-28px rounded" type="submit"
                                        style="margin-left: -14px;">
                                    <i class="fas fa-edit fa-md ml--2px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#deleteCompanionReportModal"
                                        class="btn btn-danger btn-sm h-28px w-28px rounded" style="margin-left: -28px;">
                                    <i class="far fa-trash-alt fa-md ml--1px"></i>
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <th>4</th>
                    <td class="companion" data-companion="Le Trong Tan">Le Trong Tan</td>
                    <td>Nguyen Van Tin</td>
                    <td>2021-05-01</td>
                    <td>
                        <div class="row" style="margin-left:-13px;">
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#detailCompanionReportModal"
                                        class="btn btn-primary btn-sm align-middle h-28px w-28px rounded" type="submit">
                                    <i class="far fa-eye fa-md ml--3px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button class="btn btn-warning btn-sm h-28px w-28px rounded" type="submit"
                                        style="margin-left: -14px;">
                                    <i class="fas fa-edit fa-md ml--2px"></i>
                                </button>
                            </div>
                            <div class="col-lg-4">
                                <button data-toggle="modal" data-target="#deleteCompanionReportModal"
                                        class="btn btn-danger btn-sm h-28px w-28px rounded" style="margin-left: -28px;">
                                    <i class="far fa-trash-alt fa-md ml--1px"></i>
                                </button>
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div id="deleteCompanionReportModal" class="modal modal-edu-general default-popup-PrimaryModal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header header-color-modal bg-color-1">
                    <h4 class="modal-title" style="margin-left: -30px;">Delete Companion Report</h4>
                    <div class="modal-close-area modal-close-df" style="padding-left: -200px;padding-bottom:-200px;">
                        <a class="close" data-dismiss="modal" href="#"><i class="fas fa-times"></i></a>
                    </div>
                </div>
                <div class="modal-body">
                    <span style="font-size: large;">Are you sure to delete this companion report?</span>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger rounded" data-dismiss="modal">
                        Cancel
                    </button>
                    <button class="btn rounded text-white btn-hover-blue" style="background-color: #056299;">
                        Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="detailCompanionReportModal" class="modal modal-edu-general default-popup-PrimaryModal fade rounded"
         role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header header-color-modal bg-color-1">
                    <h4 class="modal-title" style="margin-left: -30px;">Detail</h4>
                    <div class="modal-close-area modal-close-df bg-danger"
                         style="padding-left: -200px;padding-bottom:-200px;">
                        <a class="close" data-dismiss="modal" href="#"><i class="fas fa-times"></i></a>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-4 text-center" v-if="companion.image != null">
                            <div v-html="image"></div>
                            <p class="font-weight-bold" style="padding-top: 5px;">{{ companion.companionId }}</p>
                        </div>
                        <div class="col-sm-4 text-center" v-if="companion.image == null">
                            <img class="img-fluid img-thumbnail rounded-circle" src="../images/default_image.png"
                                 width="100px"
                                 height="100px" alt="companion-image"/>
                            <p class="font-weight-bold" style="padding-top: 5px;">{{ companion.companionId }}</p>
                        </div>
                        <div class="col-sm-8 mt-3">
                            <p class="text-uppercase font-weight-bold" style="font-size: larger;">{{
                                companion.christianName }} {{ companion.fullName }}
                            </p>
                            <div style="margin-left: 12px;">
                <span class="font-weight-bold">Ngày
                  Sinh:</span><span> &nbsp;{{ birthdayFormat }}</span><br>
                                <span class="font-weight-bold ">SĐT:</span>
                                <span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ companion.phone}}</span><br>
                                <span class="font-weight-bold ">Email:</span>
                                <span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;{{ companion.email }}</span><br>
                                <span class="font-weight-bold ">Chức Vụ:</span>
                                &nbsp;<span v-for="department in positions" v-if="department.id == companion.position">
                &nbsp;&nbsp;{{ department.positionType}} - {{ department.name }}</span><br>
                                <span class="font-weight-bold ">Nhóm Cộng Đoàn:</span>
                                <span v-for="grCom in groupCommunities" v-if="grCom.id == companion.groupCommunity">
                &nbsp;{{ grCom.name }}</span><br>
                                <span class="font-weight-bold ">Trạng Thái:&nbsp;&nbsp;</span>
                                <span v-if="companion.status == 1">
                  <i class="fas fa-toggle-on fa-lg text-success"></i>
                </span>
                                <span v-if="companion.status == 2">
                  <i class="fas fa-toggle-off fa-lg text-danger"></i>
                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}